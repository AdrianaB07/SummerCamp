@using SummerCamp.Models
@model CompetitionViewModel
<link rel="stylesheet" href="~/css/detaliiTeam.css" />
<div class="details-section">
@{
    ViewData["Title"] = "Add Competition";
}


<form id="myForm" asp-action="Add" method="post" class="needs-validation" novalidate>
    <div class="form-group">
        <label asp-for="Name"></label>
        <input asp-for="Name" class="form-control" />
        <span asp-validation-for="Name" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="NumberOfTeams"></label>
        <input asp-for="NumberOfTeams" class="form-control" />
        <span asp-validation-for="NumberOfTeams" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="Adress"></label>
        <input asp-for="Adress" class="form-control" />
        <span asp-validation-for="Adress" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="StartDate"></label>
        <input asp-for="StartDate" type="date" class="form-control" value="@DateTime.Now.ToString("yyyy-MM-dd")" />
        <span asp-validation-for="StartDate" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="EndDate"></label>
        <input asp-for="EndDate" type="date" class="form-control" value="@DateTime.Now.ToString("yyyy-MM-dd")" />
        <span asp-validation-for="EndDate" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="SponsorId">Sponsor</label>
        @{
            var sponsors = (List<SponsorViewModel>)ViewData["Sponsors"];
            <select asp-for="SponsorId" class="form-control" asp-items="sponsors.Select(s=>
                new SelectListItem { Value = s.Id.ToString(), Text = s.FullName })">
                <option value="">-- Select a Sponsor --</option>
            </select>
        }
        
        @if (ViewData.ModelState.ContainsKey("SponsorId") && ViewData.ModelState["SponsorId"].Errors.Count > 0)
        {
            <div class="text-danger">Please select a sponsor.</div>
        }
    </div>

    <!-- Additional form fields and submit button -->

    <button type="submit" class="btn btn-dark">Create</button>
</form>
</div>